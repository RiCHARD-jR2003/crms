{"version":3,"file":"static/js/702.abc807cc.chunk.js","mappings":"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","sources":["components/application/ApplicationStatusCheck.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Paper,\r\n  Alert,\r\n  CircularProgress,\r\n  Chip,\r\n  Grid,\r\n  Card,\r\n  CardContent\r\n} from '@mui/material';\r\nimport { Search as SearchIcon } from '@mui/icons-material';\r\nimport { api } from '../../services/api';\r\nimport SuccessModal from '../shared/SuccessModal';\r\nimport { useModal } from '../../hooks/useModal';\r\n\r\nconst ApplicationStatusCheck = () => {\r\n  const [referenceNumber, setReferenceNumber] = useState('');\r\n  const [applicationData, setApplicationData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [mounted, setMounted] = useState(false);\r\n  \r\n  // Success modal\r\n  const { modalOpen, modalConfig, showModal, hideModal } = useModal();\r\n\r\n  // Ensure component is mounted\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    console.log('ApplicationStatusCheck component mounted');\r\n  }, []);\r\n\r\n  // Debug logging\r\n  console.log('ApplicationStatusCheck component rendered, mounted:', mounted);\r\n\r\n  const handleSearch = async () => {\r\n    if (!referenceNumber.trim()) {\r\n      setError('Please enter a reference number');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    setApplicationData(null);\r\n\r\n    try {\r\n      const response = await api.get(`/application-status/${referenceNumber.trim()}`);\r\n      \r\n      if (response && response.application) {\r\n        setApplicationData(response.application);\r\n      } else {\r\n        setError('Application not found. Please check your reference number.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching application status:', err);\r\n      if (err.response?.status === 404) {\r\n        setError('Application not found. Please check your reference number.');\r\n      } else {\r\n        setError('Error checking application status. Please try again.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status?.toLowerCase()) {\r\n      case 'approved':\r\n        return '#27AE60';\r\n      case 'pending':\r\n      case 'pending admin approval':\r\n      case 'pending barangay approval':\r\n        return '#F39C12';\r\n      case 'rejected':\r\n        return '#E74C3C';\r\n      default:\r\n        return '#95A5A6';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  // Don't render until component is properly mounted\r\n  if (!mounted) {\r\n    return (\r\n      <Box sx={{ minHeight: 100, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n        <Typography variant=\"body2\" sx={{ color: '#7F8C8D' }}>\r\n          Loading...\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Typography variant=\"body2\" sx={{ \r\n        textAlign: 'center', \r\n        mb: 2, \r\n        color: '#7F8C8D',\r\n        lineHeight: 1.4,\r\n        fontSize: '0.85rem'\r\n      }}>\r\n        Enter your application reference number to check the current status of your PWD application.\r\n      </Typography>\r\n\r\n      <Box sx={{ mb: 2, mt: 1 }}>\r\n        <Box sx={{ \r\n          display: 'flex', \r\n          gap: 0,\r\n          borderRadius: 2,\r\n          overflow: 'visible',\r\n          boxShadow: '0 2px 8px rgba(0,0,0,0.08)',\r\n          border: '1px solid #E0E0E0',\r\n          position: 'relative'\r\n        }}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Reference Number\"\r\n            placeholder=\"e.g., PWD-2025-123456-789\"\r\n            value={referenceNumber}\r\n            onChange={(e) => setReferenceNumber(e.target.value)}\r\n            onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n            size=\"small\"\r\n            InputLabelProps={{\r\n              shrink: true,\r\n              sx: {\r\n                bgcolor: 'white',\r\n                px: 0.5,\r\n                color: '#2C3E50',\r\n                fontWeight: 500,\r\n                fontSize: '0.8rem',\r\n                position: 'absolute',\r\n                top: '-6px',\r\n                left: '8px',\r\n                zIndex: 1,\r\n                '&.Mui-focused': {\r\n                  color: '#0b87ac',\r\n                },\r\n              }\r\n            }}\r\n            sx={{\r\n              '& .MuiOutlinedInput-root': {\r\n                borderRadius: 0,\r\n                bgcolor: '#f8f9fa',\r\n                border: 'none',\r\n                height: '40px',\r\n                '& fieldset': {\r\n                  border: 'none',\r\n                },\r\n                '&:hover fieldset': {\r\n                  border: 'none',\r\n                },\r\n                '&.Mui-focused fieldset': {\r\n                  border: 'none',\r\n                },\r\n                '&.Mui-focused': {\r\n                  bgcolor: '#ffffff',\r\n                  boxShadow: 'inset 0 0 0 2px #0b87ac',\r\n                },\r\n              },\r\n              '& .MuiInputBase-input': {\r\n                color: '#2C3E50',\r\n                fontWeight: 500,\r\n                fontSize: '0.85rem',\r\n                '&::placeholder': {\r\n                  color: '#7F8C8D',\r\n                  opacity: 1,\r\n                },\r\n              },\r\n            }}\r\n          />\r\n          <Button\r\n            onClick={handleSearch}\r\n            disabled={loading}\r\n            startIcon={loading ? <CircularProgress size={16} /> : <SearchIcon />}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            sx={{\r\n              bgcolor: '#0b87ac',\r\n              color: 'white',\r\n              borderRadius: 0,\r\n              px: 2,\r\n              py: 0.5,\r\n              height: '40px',\r\n              textTransform: 'none',\r\n              fontWeight: 600,\r\n              fontSize: '0.8rem',\r\n              minWidth: 120,\r\n              boxShadow: 'none',\r\n              '&:hover': {\r\n                bgcolor: '#0a6b8a',\r\n                boxShadow: 'none',\r\n              },\r\n              '&:disabled': {\r\n                bgcolor: '#95A5A6',\r\n                boxShadow: 'none',\r\n              },\r\n            }}\r\n          >\r\n            {loading ? 'Checking...' : 'Check Status'}\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ \r\n            mb: 2, \r\n            borderRadius: 2,\r\n            bgcolor: '#FFF5F5',\r\n            border: '1px solid #FFE0E0',\r\n            fontSize: '0.85rem',\r\n            '& .MuiAlert-icon': {\r\n              color: '#E74C3C',\r\n              fontSize: '1.2rem'\r\n            },\r\n            '& .MuiAlert-message': {\r\n              color: '#C0392B',\r\n              fontWeight: 500,\r\n              fontSize: '0.85rem'\r\n            }\r\n          }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        {applicationData && (\r\n          <Box sx={{ \r\n            mt: 2, \r\n            p: 2,\r\n            bgcolor: '#f8f9fa',\r\n            borderRadius: 2,\r\n            border: '1px solid #E0E0E0'\r\n          }}>\r\n            <Typography variant=\"subtitle1\" sx={{ \r\n              mb: 2, \r\n              color: '#2C3E50',\r\n              fontWeight: 600,\r\n              textAlign: 'center',\r\n              fontSize: '0.95rem'\r\n            }}>\r\n              Application Details\r\n            </Typography>\r\n            \r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Typography variant=\"caption\" sx={{ fontWeight: 'bold', color: '#7F8C8D', mb: 0.5, display: 'block' }}>\r\n                  Reference Number:\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ color: '#2C3E50', mb: 1, fontWeight: 'bold' }}>\r\n                  {applicationData.referenceNumber || 'N/A'}\r\n                </Typography>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} sm={6}>\r\n                <Typography variant=\"caption\" sx={{ fontWeight: 'bold', color: '#7F8C8D', mb: 0.5, display: 'block' }}>\r\n                  Applicant Name:\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ color: '#2C3E50', mb: 1, fontWeight: 500 }}>\r\n                  {`${applicationData.firstName || ''} ${applicationData.middleName || ''} ${applicationData.lastName || ''} ${applicationData.suffix || ''}`.trim()}\r\n                </Typography>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} sm={6}>\r\n                <Typography variant=\"caption\" sx={{ fontWeight: 'bold', color: '#7F8C8D', mb: 0.5, display: 'block' }}>\r\n                  Submission Date:\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ color: '#2C3E50', mb: 1, fontWeight: 500 }}>\r\n                  {formatDate(applicationData.submissionDate)}\r\n                </Typography>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} sm={6}>\r\n                <Typography variant=\"caption\" sx={{ fontWeight: 'bold', color: '#7F8C8D', mb: 0.5, display: 'block' }}>\r\n                  Current Status:\r\n                </Typography>\r\n                <Chip\r\n                  label={applicationData.status || 'Pending'}\r\n                  size=\"small\"\r\n                  sx={{\r\n                    bgcolor: getStatusColor(applicationData.status),\r\n                    color: 'white',\r\n                    fontWeight: 'bold',\r\n                    fontSize: '0.75rem',\r\n                    px: 1.5,\r\n                    py: 0.5,\r\n                    borderRadius: 2,\r\n                    height: '24px'\r\n                  }}\r\n                />\r\n              </Grid>\r\n              \r\n              {applicationData.remarks && (\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"caption\" sx={{ fontWeight: 'bold', color: '#7F8C8D', mb: 0.5, display: 'block' }}>\r\n                    Remarks:\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" sx={{ color: '#2C3E50', fontWeight: 500 }}>\r\n                    {applicationData.remarks}\r\n                  </Typography>\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          </Box>\r\n        )}\r\n      \r\n      {/* Success Modal */}\r\n      <SuccessModal\r\n        open={modalOpen}\r\n        onClose={hideModal}\r\n        title={modalConfig.title}\r\n        message={modalConfig.message}\r\n        type={modalConfig.type}\r\n        buttonText={modalConfig.buttonText}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default ApplicationStatusCheck;\r\n"],"names":["ApplicationStatusCheck","referenceNumber","setReferenceNumber","useState","applicationData","setApplicationData","loading","setLoading","error","setError","mounted","setMounted","modalOpen","modalConfig","showModal","hideModal","useModal","useEffect","console","log","handleSearch","async","trim","response","api","get","concat","application","err","_err$response","status","_jsxs","Box","children","_jsx","Typography","variant","sx","textAlign","mb","color","lineHeight","fontSize","mt","display","gap","borderRadius","overflow","boxShadow","border","position","TextField","fullWidth","label","placeholder","value","onChange","e","target","onKeyPress","key","size","InputLabelProps","shrink","bgcolor","px","fontWeight","top","left","zIndex","height","opacity","Button","onClick","disabled","startIcon","CircularProgress","SearchIcon","py","textTransform","minWidth","Alert","severity","p","Grid","container","spacing","item","xs","sm","firstName","middleName","lastName","suffix","dateString","submissionDate","Date","toLocaleDateString","year","month","day","Chip","toLowerCase","getStatusColor","remarks","SuccessModal","open","onClose","title","message","type","buttonText","minHeight","alignItems","justifyContent"],"sourceRoot":""}