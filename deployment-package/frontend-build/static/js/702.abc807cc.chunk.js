"use strict";(self.webpackChunkpwd_frontend=self.webpackChunkpwd_frontend||[]).push([[702],{8702:(e,o,t)=>{t.r(o),t.d(o,{default:()=>m});var n=t(5043),r=t(6446),i=t(5865),s=t(7784),a=t(1906),l=t(1637),c=t(4194),d=t(8903),p=t(3845),b=t(9484),x=t(4505),h=t(6015),u=t(6555),f=t(579);const m=()=>{const[e,o]=(0,n.useState)(""),[t,m]=(0,n.useState)(null),[g,A]=(0,n.useState)(!1),[y,C]=(0,n.useState)(""),[j,v]=(0,n.useState)(!1),{modalOpen:S,modalConfig:k,showModal:E,hideModal:W}=(0,u.h)();(0,n.useEffect)(()=>{v(!0),console.log("ApplicationStatusCheck component mounted")},[]),console.log("ApplicationStatusCheck component rendered, mounted:",j);const w=async()=>{if(e.trim()){A(!0),C(""),m(null);try{const o=await x.F.get("/application-status/".concat(e.trim()));o&&o.application?m(o.application):C("Application not found. Please check your reference number.")}catch(t){var o;console.error("Error fetching application status:",t),404===(null===(o=t.response)||void 0===o?void 0:o.status)?C("Application not found. Please check your reference number."):C("Error checking application status. Please try again.")}finally{A(!1)}}else C("Please enter a reference number")};return j?(0,f.jsxs)(r.A,{children:[(0,f.jsx)(i.A,{variant:"body2",sx:{textAlign:"center",mb:2,color:"#7F8C8D",lineHeight:1.4,fontSize:"0.85rem"},children:"Enter your application reference number to check the current status of your PWD application."}),(0,f.jsx)(r.A,{sx:{mb:2,mt:1},children:(0,f.jsxs)(r.A,{sx:{display:"flex",gap:0,borderRadius:2,overflow:"visible",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #E0E0E0",position:"relative"},children:[(0,f.jsx)(s.A,{fullWidth:!0,label:"Reference Number",placeholder:"e.g., PWD-2025-123456-789",value:e,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&w(),size:"small",InputLabelProps:{shrink:!0,sx:{bgcolor:"white",px:.5,color:"#2C3E50",fontWeight:500,fontSize:"0.8rem",position:"absolute",top:"-6px",left:"8px",zIndex:1,"&.Mui-focused":{color:"#0b87ac"}}},sx:{"& .MuiOutlinedInput-root":{borderRadius:0,bgcolor:"#f8f9fa",border:"none",height:"40px","& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"},"&.Mui-focused":{bgcolor:"#ffffff",boxShadow:"inset 0 0 0 2px #0b87ac"}},"& .MuiInputBase-input":{color:"#2C3E50",fontWeight:500,fontSize:"0.85rem","&::placeholder":{color:"#7F8C8D",opacity:1}}}}),(0,f.jsx)(a.A,{onClick:w,disabled:g,startIcon:g?(0,f.jsx)(l.A,{size:16}):(0,f.jsx)(b.A,{}),variant:"contained",size:"small",sx:{bgcolor:"#0b87ac",color:"white",borderRadius:0,px:2,py:.5,height:"40px",textTransform:"none",fontWeight:600,fontSize:"0.8rem",minWidth:120,boxShadow:"none","&:hover":{bgcolor:"#0a6b8a",boxShadow:"none"},"&:disabled":{bgcolor:"#95A5A6",boxShadow:"none"}},children:g?"Checking...":"Check Status"})]})}),y&&(0,f.jsx)(c.A,{severity:"error",sx:{mb:2,borderRadius:2,bgcolor:"#FFF5F5",border:"1px solid #FFE0E0",fontSize:"0.85rem","& .MuiAlert-icon":{color:"#E74C3C",fontSize:"1.2rem"},"& .MuiAlert-message":{color:"#C0392B",fontWeight:500,fontSize:"0.85rem"}},children:y}),t&&(0,f.jsxs)(r.A,{sx:{mt:2,p:2,bgcolor:"#f8f9fa",borderRadius:2,border:"1px solid #E0E0E0"},children:[(0,f.jsx)(i.A,{variant:"subtitle1",sx:{mb:2,color:"#2C3E50",fontWeight:600,textAlign:"center",fontSize:"0.95rem"},children:"Application Details"}),(0,f.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(i.A,{variant:"caption",sx:{fontWeight:"bold",color:"#7F8C8D",mb:.5,display:"block"},children:"Reference Number:"}),(0,f.jsx)(i.A,{variant:"body2",sx:{color:"#2C3E50",mb:1,fontWeight:"bold"},children:t.referenceNumber||"N/A"})]}),(0,f.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(i.A,{variant:"caption",sx:{fontWeight:"bold",color:"#7F8C8D",mb:.5,display:"block"},children:"Applicant Name:"}),(0,f.jsx)(i.A,{variant:"body2",sx:{color:"#2C3E50",mb:1,fontWeight:500},children:"".concat(t.firstName||""," ").concat(t.middleName||""," ").concat(t.lastName||""," ").concat(t.suffix||"").trim()})]}),(0,f.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(i.A,{variant:"caption",sx:{fontWeight:"bold",color:"#7F8C8D",mb:.5,display:"block"},children:"Submission Date:"}),(0,f.jsx)(i.A,{variant:"body2",sx:{color:"#2C3E50",mb:1,fontWeight:500},children:(F=t.submissionDate,F?new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A")})]}),(0,f.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(i.A,{variant:"caption",sx:{fontWeight:"bold",color:"#7F8C8D",mb:.5,display:"block"},children:"Current Status:"}),(0,f.jsx)(p.A,{label:t.status||"Pending",size:"small",sx:{bgcolor:(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"approved":return"#27AE60";case"pending":case"pending admin approval":case"pending barangay approval":return"#F39C12";case"rejected":return"#E74C3C";default:return"#95A5A6"}})(t.status),color:"white",fontWeight:"bold",fontSize:"0.75rem",px:1.5,py:.5,borderRadius:2,height:"24px"}})]}),t.remarks&&(0,f.jsxs)(d.Ay,{item:!0,xs:12,children:[(0,f.jsx)(i.A,{variant:"caption",sx:{fontWeight:"bold",color:"#7F8C8D",mb:.5,display:"block"},children:"Remarks:"}),(0,f.jsx)(i.A,{variant:"body2",sx:{color:"#2C3E50",fontWeight:500},children:t.remarks})]})]})]}),(0,f.jsx)(h.A,{open:S,onClose:W,title:k.title,message:k.message,type:k.type,buttonText:k.buttonText})]}):(0,f.jsx)(r.A,{sx:{minHeight:100,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,f.jsx)(i.A,{variant:"body2",sx:{color:"#7F8C8D"},children:"Loading..."})});var F}}}]);
//# sourceMappingURL=702.abc807cc.chunk.js.map